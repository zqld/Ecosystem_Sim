package org.broker;

import java.awt.*;

public class Herbivore {
    // Поля класса
    private int x, y;  // Координаты травоядного на экране (позиция в мире)
    private int health; // Здоровье травоядного

    // Конструктор класса
    public Herbivore(int x, int y) {
        this.x = x;    // Устанавливаем начальную координату травоядного по оси X
        this.y = y;    // Устанавливаем начальную координату травоядного по оси Y
        this.health = 100;  // Задаем начальное значение здоровья травоядного
    }

    // Метод для обновления состояния травоядного
    public void update() {
        // Травоядное двигается случайным образом
        // Плавно изменяем координаты травоядного на случайное значение (1 или -1)
        x += Math.random() > 0.5 ? 1 : -1;  // Изменение координаты по оси X
        y += Math.random() > 0.5 ? 1 : -1;  // Изменение координаты по оси Y
        // В дальнейшем можно добавить логику для поиска пищи или других объектов
    }

    // Метод для взаимодействия травоядного с растением
    public void interact(Plant plant) {
        // Проверяем, находится ли растение в пределах 2-х клеток по осям X и Y
        if (Math.abs(x - plant.getX()) < 2 && Math.abs(y - plant.getY()) < 2) {
            // Если травоядное рядом с растением, оно его "съедает"
            System.out.println("Травоядное на позиции (" + x + ", " + y + ") съело растение на позиции (" + plant.getX() + ", " + plant.getY() + ")");

            // Вызов метода для обновления состояния растения (например, уменьшение здоровья или уничтожение)
            plant.update();  // Уменьшаем здоровье растения, или растение может погибнуть
        }
    }

    // Метод для отображения травоядного на экране
    public void draw(Graphics g) {
        g.setColor(Color.BLUE); // Устанавливаем цвет для травоядного (синий)
        g.fillOval(x * 10, y * 10, 10, 10); // Рисуем травоядное как синий круг (масштабируется на 10x10 пикселей)
    }

    // Метод для проверки, живо ли травоядное
    public boolean isAlive() {
        // Травоядное считается живым, если его здоровье больше 0
        return health > 0;
    }

    // Геттеры для получения координат травоядного
    public int getX() {
        return x;  // Возвращаем текущую координату X
    }

    public int getY() {
        return y;  // Возвращаем текущую координату Y
    }
}
